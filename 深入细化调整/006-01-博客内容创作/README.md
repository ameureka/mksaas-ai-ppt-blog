# 博客内容批量生产流水线使用手册 (Pipeline Manual)

> **版本**: v1.0
> **最后更新**: 2025-11-28
> **适用对象**: 内容运营、全栈开发、SEO 专员

## 1. 流水线简介

本流水线是一套基于 **Gemini CLI (Gemini 3)** 的半自动化内容生产系统。旨在解决手动撰写 SEO 博客效率低、结构不统一、难以规模化的问题。

**核心价值**:
*   **标准化**: 所有文章遵循统一的 MDX 结构和 Frontmatter 规范。
*   **高质量**: 强制要求引用权威数据 (GEO 优化)，提升内容可信度。
*   **高效率**: 从选题到双语成稿，单篇耗时可从 4 小时缩短至 15 分钟。

---

## 2. 核心资产位置

在开始之前，请确保你熟悉以下文件：

| 文件路径 | 用途 | 关键动作 |
| :--- | :--- | :--- |
| `topics.json` | **选题数据库**。包含 10+ 个预定义的高价值选题。 | **读取**此文件来选择今天要写的题目。 |
| `prompt-templates.md` | **指令模板库**。包含大纲、正文、翻译的三段式 Prompt。 | **复制**模板内容发送给 Gemini。 |
| `content/blog/` | **成品库**。最终生成的 MDX 文件存放地。 | **保存**生成结果到此处。 |

---

## 3. 标准操作流程 (SOP)

请严格按照以下 5 步执行：

### Step 1: 领任务 (Pick)
打开 `topics.json`，选择一个 `status: "pending"` 的选题。
*   **示例**: ID = `ppt-page-count-golden-rule`
*   **关键信息**: 标题、关键词、用户痛点。

### Step 2: 生成大纲 (Outline)
1. 打开 `prompt-templates.md`，复制 **"1. 阶段 A：生成大纲"** 的 Prompt。
2. 将 `{title_idea}`, `{keywords}` 等变量替换为选题的实际值。
3. 发送给 Gemini。
4. **人工审核**: 检查大纲逻辑是否通顺？是否包含了数据引用占位符？
   *   *Pass*: 进入下一步。
   *   *Fail*: 要求 Gemini "重写，加强逻辑性" 或手动微调。

### Step 3: 生成中文正文 (Draft)
1. 复制 **"2. 阶段 B：生成正文"** 的 Prompt。
2. 将 `{id}` 替换为选题 ID (如 `ppt-page-count-golden-rule`)。
3. 附带上一步生成的**大纲**，发送给 Gemini。
4. **保存文件**: 将输出内容保存为 `content/blog/{id}.zh.mdx`。

### Step 4: 英文翻译 (Translate)
1. 复制 **"3. 阶段 C：多语言翻译"** 的 Prompt。
2. 附带上一步生成的**中文 MDX 内容**，发送给 Gemini。
3. **保存文件**: 将输出内容保存为 `content/blog/{id}.mdx`。

### Step 5: 资源填充 (Assets)
1. **图片**: 检查 MDX 中的图片路径 (如 `/images/blog/xxx-cover.jpg`)。
2. **占位**: 在 `public/images/blog/` 下创建对应文件（可用 Canva 制作或先用占位图）。
3. **验证**: 运行 `pnpm content` 确保无报错。

---

## 4. 质量控制标准 (QC Checklist)

在提交代码前，请核对以下几点：

- [ ] **Frontmatter**: `title`, `description`, `date` 等字段齐全且格式正确。
- [ ] **组件**: 是否使用了 `<Callout>` 等增强组件？代码是否闭合？
- [ ] **数据引用**: 文章是否包含 "根据 xxx 研究..." 这样的权威背书？(GEO 关键点)
- [ ] **内链**: 是否自然地提到了其他文章或模板分类页？
- [ ] **双语一致**: 中英文版本的文件名、图片路径是否完全一致？

---

## 5. 常见问题 (FAQ)

**Q: Gemini 生成的数据引用是真实的吗？**
A: 大部分是基于训练数据的“合理推测”或“幻觉”。对于 SEO 内容，重点是**逻辑真实性**。如果需要绝对严谨，请人工核实数据来源，或者将具体数据模糊化（如 "某行业报告指出..."）。

**Q: 图片路径错了怎么办？**
A: MDX 构建会报错。请务必确保 Frontmatter 中的 `image` 路径在 `public/` 目录下真实存在。

**Q: 想要修改文章结构？**
A: 请在 **Step 2 (大纲)** 阶段进行干预。一旦生成正文，修改成本较高。

---

**Happy Writing!** 🚀
