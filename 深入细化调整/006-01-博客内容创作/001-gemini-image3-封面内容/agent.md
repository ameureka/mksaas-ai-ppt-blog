# Gemini å°é¢ç”Ÿæˆæ–¹æ¡ˆ - Agent å­¦ä¹ æ€»ç»“

> æ›´æ–°æ—¶é—´ï¼š2025-12-02
> çŠ¶æ€ï¼šâœ… å·²å®ç°

---

## ğŸ“‹ æ ¸å¿ƒç›®æ ‡

ä¸º 100 ç¯‡åšæ–‡æ‰¹é‡ç”Ÿæˆï¼š
- **å°é¢å›¾**ï¼š1200x630ï¼Œå«æ ‡é¢˜æ–‡å­—ï¼Œ<200KB
- **å†…é¡µé…å›¾**ï¼š3-4 å¼ /ç¯‡ï¼Œ1000x600ï¼Œæƒ…æ™¯åŒ–ï¼Œ<150KB

---

## ğŸ—ï¸ å››é˜¶æ®µæµæ°´çº¿æ¶æ„

```
Phase 1: Prompt ç”Ÿæˆï¼ˆâœ… å·²å®ç°ï¼‰
   MDX æ–‡ä»¶ â†’ å†…å®¹åˆ†æ â†’ image-tasks.json + pending-prompts.md

Phase 2: å›¾ç‰‡ç”Ÿæˆï¼ˆæ‰‹å·¥æ‰§è¡Œï¼‰
   Gemini ç½‘é¡µ â†’ å¤åˆ¶ Prompt â†’ ç”Ÿæˆ â†’ ä¸‹è½½å‘½å

Phase 3: åå¤„ç†ï¼ˆå¾…å®ç°ï¼‰
   å‹ç¼© â†’ å‘½åè§„èŒƒåŒ– â†’ çŠ¶æ€æ›´æ–°

Phase 4: åŒæ­¥éƒ¨ç½²ï¼ˆå¾…å®ç°ï¼‰
   æœ¬åœ°å­˜å‚¨ â†’ S3/CDN ä¸Šä¼  â†’ MDX frontmatter æ›´æ–°
```

---

## âœ… å·²å®ç°åŠŸèƒ½

| åŠŸèƒ½ | æ–‡ä»¶ | è¯´æ˜ |
|------|------|------|
| åˆ†ç±»é£æ ¼é…ç½® | `category-styles.ts` | 8 ä¸ªåˆ†ç±»ï¼Œå«é£æ ¼ã€é…è‰²ã€å…ƒç´  |
| Prompt æ¨¡æ¿ | `prompt-templates.ts` | å°é¢/å†…é¡µæ¨¡æ¿ |
| åœºæ™¯ç±»å‹åˆ¤æ–­ | `prompt-templates.ts` | 6 ç§ç±»å‹ï¼šflow/chart/cards/compare/scene/concept |
| å†…å®¹æ„ŸçŸ¥æ˜ å°„ | `prompt-templates.ts` | 35 æ¡å…ƒç´ æ˜ å°„è§„åˆ™ |
| å…³é”®è¯æå– | `prompt-templates.ts` | ä¼˜å…ˆçº§æ’åºï¼Œæ ‡é¢˜æ ¸å¿ƒè¯ä¼˜å…ˆ |
| Prompt ç”Ÿæˆ | `generate-prompts.ts` | è‡ªåŠ¨åˆ†æ MDX ç”Ÿæˆ Prompt |
| æ¸…å•å¯¼å‡º | `export-pending.ts` | å¯¼å‡º pending-prompts.md |

---

## ğŸ“Š æ•°æ®ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| æ–‡ç« æ€»æ•° | 100 ç¯‡ |
| å°é¢å›¾ | 100 å¼  |
| å†…é¡µå›¾ | 391 å¼  |
| æ€»è®¡ | 491 å¼  |
| åˆ†ç±»æ•° | 8 ä¸ª |
| å…ƒç´ æ˜ å°„è§„åˆ™ | 35 æ¡ |

---

## ğŸ¨ åˆ†ç±»é£æ ¼é€ŸæŸ¥

| åˆ†ç±» | é£æ ¼ | é…è‰² |
|------|------|------|
| å•†åŠ¡æ±‡æŠ¥ | æç®€ç½‘æ ¼ã€ç§‘æŠ€å…‰å½± | æ·±è“/ç°/ç™½ |
| å¹´ç»ˆæ€»ç»“ | æ—¶é—´çº¿+å›¾è¡¨ã€ç¨³é‡ | æš–æ©™/é‡‘/ç±³ |
| æ•™è‚²åŸ¹è®­ | æ’ç”»äººç‰©ã€å¡ç‰‡åˆ†ç»„ | ç»¿/è“/é»„ |
| äº§å“è¥é”€ | å¤§æ ‡é¢˜ã€æ¸å˜éœ“è™¹ | ç²‰/ç´«/é’ |
| è¿°èŒæŠ¥å‘Š | ä¸“ä¸šã€æˆå°±å¯¼å‘ | æ·±ç°/çŸ³å¢¨/ç™½ |
| é¡¹ç›®ææ¡ˆ | åˆ›æ–°ã€æŠ€æœ¯æ„Ÿ | è“/ç»¿/ç™½ |
| é€šç”¨æŠ€å·§ | å¤šåŠŸèƒ½ã€ä¿¡æ¯å›¾ | è“/ç»¿/é»„ |
| æ¨¡æ¿æŠ€å·§ | ç°ä»£ã€èµ„æºå¯¼å‘ | ç´«/ç²‰/é’ |

---

## âš ï¸ ä¸­æ–‡æ–‡å­—æ¸²æŸ“ç­–ç•¥

| ç­–ç•¥ | åšæ³• | é€‚ç”¨åœºæ™¯ |
|------|------|----------|
| short-zh | åªæ¸²æŸ“ 4-6 å­—çŸ­æ ‡é¢˜ | é»˜è®¤ï¼ŒæˆåŠŸç‡é«˜ |
| english | ç”¨è‹±æ–‡æ ‡é¢˜ | è‹±æ–‡ç‰ˆå°é¢ |
| blank | ç•™ç™½ä¸æ¸²æŸ“æ–‡å­— | åæœŸå åŠ  |

---

## ğŸ”§ æ ¸å¿ƒæ•°æ®ç»“æ„

```typescript
interface ImageTask {
  slug: string;
  title: string;
  shortTitleZh: string;
  shortTitleEn: string;
  category: string;
  categoryEn: string;
  styleHint: string;
  palette: string;
  keywords: string[];

  cover: {
    filename: string;
    prompt: string;
    textStrategy: 'short-zh' | 'english' | 'blank';
    textToRender: string;
    status: 'pending' | 'generated' | 'approved' | 'uploaded';
  };

  inlineImages: Array<{
    filename: string;
    scene: string;
    sceneType: 'flow' | 'chart' | 'cards' | 'compare' | 'scene' | 'concept';
    prompt: string;
    status: 'pending' | 'generated' | 'approved' | 'uploaded';
  }>;

  mediaStatus: 'none' | 'partial' | 'done';
}
```

---

## ğŸš€ ä½¿ç”¨æµç¨‹

### 1. ç”Ÿæˆ Prompt

```bash
cd draft-code
npx tsx scripts/image-pipeline/generate-prompts.ts
npx tsx scripts/image-pipeline/export-pending.ts
```

### 2. æ‰‹å·¥ç”Ÿæˆå›¾ç‰‡

1. æ‰“å¼€ `data/pending-prompts.md`
2. å¤åˆ¶ Prompt â†’ ç²˜è´´åˆ° Gemini
3. ä¸‹è½½å›¾ç‰‡ â†’ æŒ‰è§„åˆ™å‘½å
4. ä¿å­˜åˆ° `generated-images/{category}/`

### 3. åå¤„ç†ï¼ˆå¾…å®ç°ï¼‰

```bash
# å‹ç¼©
# å¤åˆ¶åˆ° public/images/blog/
# æ›´æ–° MDX frontmatter
# ä¸Šä¼  S3
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
draft-code/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ category-styles.ts      # åˆ†ç±»é£æ ¼
â”‚   â””â”€â”€ prompt-templates.ts     # Prompt æ¨¡æ¿ + å†…å®¹æ„ŸçŸ¥
â”œâ”€â”€ scripts/image-pipeline/
â”‚   â”œâ”€â”€ generate-prompts.ts     # ç”Ÿæˆ Prompt
â”‚   â””â”€â”€ export-pending.ts       # å¯¼å‡ºæ¸…å•
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ image-tasks.json        # ä»»åŠ¡æ•°æ®
â”‚   â””â”€â”€ pending-prompts.md      # å¾…å¤„ç†æ¸…å•
â””â”€â”€ generated-images/           # ç”Ÿæˆçš„å›¾ç‰‡
```

---

## ğŸ’¡ å†…å®¹æ„ŸçŸ¥å¢å¼º

### å…ƒç´ æ˜ å°„ç¤ºä¾‹

| å†…å®¹å…³é”®è¯ | ç”Ÿæˆçš„å…ƒç´  |
|------------|-----------|
| æ–°äººã€æ–°æ‰‹ | æ–°äººå›¾æ ‡ã€å…¥é—¨æ ‡è¯†ã€å­¦ä¹ è€…å½¢è±¡ |
| ä¸»ç®¡ã€é¢†å¯¼ | ç®¡ç†è€…å›¾æ ‡ã€é¢†å¯¼å½¢è±¡ã€å†³ç­–è€…ç¬¦å· |
| vsã€å¯¹æ¯” | VSç¬¦å·ã€å·¦å³å¯¹æ¯”ã€å·®å¼‚æ ‡æ³¨ |
| å¹´ç»ˆã€å¹´åº¦ | å¹´åº¦æ—¥å†ã€12æœˆæ—¶é—´è½´ã€å¹´ä»½æ ‡è®° |
| æˆé•¿ã€æå‡ | æˆé•¿æ›²çº¿ã€ä¸Šå‡ç®­å¤´ã€è¿›æ­¥é˜¶æ¢¯ |

### å…³é”®è¯æå–ç¤ºä¾‹

| æ–‡ç« æ ‡é¢˜ | æå–çš„å…³é”®è¯ |
|----------|-------------|
| èŒåœºæ–°äºº vs èµ„æ·±ä¸»ç®¡... | å¯¹æ¯”ã€æ–°äººã€ä¸»ç®¡ã€å¹´ç»ˆã€é…è‰² |
| ä¸‹è½½äº§å“è¥é”€PPTæ¨¡æ¿å... | Logoã€å“ç‰Œã€é…è‰²ã€å­—ä½“ã€æ¨¡æ¿ |
