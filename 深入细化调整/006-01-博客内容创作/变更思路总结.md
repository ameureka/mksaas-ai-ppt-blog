# 博客图片生成脚本近期改动思路

- **统一提示词来源**：移除内联硬编码的英文提示词，改为调用 `config/prompt-templates.ts` 中的封面/内页模板（`generateCoverPrompt`、`generateInlinePrompt`），并在封面任务中透传 `TextStrategy` 以控制文字留白或语言。
- **场景解析与要素补全**：对正文按 H2 和段落拆分后，先用 `detectSceneType` 判别场景类型，再用 `getSceneElements` 补足元素，再交给模板生成提示词，确保内页图片与文章语境匹配，缺失信息时退回通用概念图路径。
- **CLI 可控性增强**：新增 `--text-strategy` 选项（short-zh/english/blank），生成的 Markdown/JSON 结果会记录该策略，便于批次控制留白和语言，封面/内页数量也随配置输出。
- **安全回退策略**：当分类或场景信息不足时，模板会走默认的“概念图/通用技巧”分支，保证仍能生成安全、可用的提示词。

以上要点概括了最新提交中对博客图片生成脚本的核心调整方向。
