# v0 设计系统快速对齐 MkSaaS Blog 方法论

本文总结一套在 v0 中复刻 MkSaaS Blog 设计系统的快速方法论，覆盖变量抽取、映射与自动化工具，帮助你在 v0 里保持与现有主题、动效、半径/阴影和字体一致。

## 1. 变量盘点（源头）
- 主题变量都集中在 `src/styles/globals.css` 的 `@theme inline` 区块与 `:root`、`.dark` 中，包括色板、半径、阴影、字体和动画。`@theme inline` 已经把 `--background`、`--primary`、`--radius-*`、`--shadow-*`、`--font-*`、`--animate-*` 等转成常用命名，可直接作为 v0 设计系统输入。【F:src/styles/globals.css†L6-L291】
- 轻暗配色分布在 `:root`（浅色）与 `.dark`（深色），务必成对复制，避免在 v0 中出现单一模式缺失的情况。【F:src/styles/globals.css†L189-L291】
- 额外主题预设 `.theme-default/.theme-neutral/.theme-blue/.theme-green/.theme-amber` 只是可选的主色覆盖，默认保持 `.theme-default` 即可，再按需在 v0 做二次配色。【F:src/styles/globals.css†L332-L382】

## 2. 目标产物（v0 需要什么）
- **设计系统变量表**：v0 的 “Import from CSS” 支持直接粘贴 CSS 变量，优先使用 `@theme inline` 中已经映射好的变量集合，这样 v0 组件调用时名称与 MkSaaS 完全一致。
- **双模式配色**：在 v0 全局样式内保留 `:root` 与 `.dark` 两套变量；如果 v0 支持主题切换钩子，把 `.dark` 作为暗色类名接入。
- **全局字体/动画**：不要省略 `--font-*` 与 `--animate-*`，因为徽章、骨架屏、跑马灯等动效依赖这些变量；在 v0 的全局样式或 tokens 中同步声明。

## 3. 快速转换步骤
1) **复制变量块**：从 `@theme inline` 开始到 `.dark` 结束，整体粘贴到 v0 的 “Import from CSS” 弹窗，确保颜色、半径、阴影、字体、动画一次到位。【F:src/styles/globals.css†L24-L291】
2) **保留注释源**：在 v0 里为这段 CSS 前加上来源备注，指向 MkSaaS `globals.css`，便于后续同步或审核。
3) **同步主题预设（可选）**：如需备用色板，可把 `.theme-neutral/.theme-blue/...` 一并复制到 v0 全局样式，保持类名不变即可。【F:src/styles/globals.css†L332-L382】
4) **校验组件示例**：在 v0 里用 Button、Card、Navbar 等基础组件套用 `bg-primary` / `border-border` / `shadow-sm`，检查浅/深色显示是否一致；如有差异，回溯对应变量是否漏粘。
5) **字体加载对齐**：v0 需手动引入与 MkSaaS 一致的 Noto Sans / Noto Serif / Noto Sans Mono（或相同的替代品），并把它们绑定到 `--font-*` 变量，避免 fallback 导致字号和行高变化。【F:src/styles/globals.css†L72-L89】【F:src/styles/globals.css†L222-L224】【F:src/styles/globals.css†L274-L276】

## 4. 转化工具与自动化
- **Shadcn Theme Generator**：已在源码注释推荐，可先用 https://ui.shadcn.com/themes 或 https://tweakcn.com/editor/theme 调色，然后把导出的 CSS 覆盖到 v0；对齐前记得补上 `--font-*` 和动画变量。【F:src/styles/globals.css†L10-L22】
- **CSS 变量抽取脚本**：若需重复同步，可写一个简单的 Node/PNPM 脚本，用 `postcss` 读取 `globals.css` 的 `@theme inline`、`:root`、`.dark`，再输出到单独的 `v0-theme.css`，便于在 v0 定期替换。
- **Style Dictionary（可选）**：把颜色、半径、阴影、字体、动画拆成 token JSON，再用 Style Dictionary 输出 CSS 和兼容 v0 的格式；适合后续多端复用。

## 5. 批量转换工具（已内置）
- 使用命令：`pnpm v0:theme`。默认读取 `src/styles/globals.css`，输出到 `docs/6-参考文档和部署指南/v0-theme.css`，自动收集 `@theme inline`、`:root`、`.dark` 三段主题变量。需要额外配色预设时，追加 `--include-presets` 将 `.theme-*` 一并写入，方便 v0 直接导入。【F:scripts/export-v0-theme.ts†L6-L89】【F:scripts/export-v0-theme.ts†L91-L136】
- 自定义输入输出：通过 `--input=PATH`、`--output=PATH` 覆盖默认路径，可针对不同分支或本地试色版本生成 token 文件。【F:scripts/export-v0-theme.ts†L11-L52】
- 产物用途：生成的 `v0-theme.css` 可直接粘贴到 v0 的 “Import from CSS” 弹窗，实现批量同步；若 v0 支持主题切换，将 `.dark` 类挂载到切换逻辑即可。

## 6. 维护原则
- **保持命名一致**：不要在 v0 中改动变量名，直接沿用 `--background`、`--primary` 等，减少组件层适配成本。
- **光暗同步**：任何新增色值都要同时写入 `:root` 与 `.dark`。
- **动画与阴影不可省**：遗漏 `--animate-*`、`--shadow-*` 或 `--radius` 会直接影响卡片/弹窗质感。
- **主题覆盖有限**：优先使用默认主题，只有在特定子产品需要差异时再启用 `.theme-xxx` 覆盖，以降低设计分叉。
