# MkSaaS é¡¹ç›®æ¶æ„å›¾

## ç³»ç»Ÿæ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              MKSAAS FULL-STACK ARCHITECTURE                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      FRONTEND (Next.js 15 Client)                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚   åšå®¢ç³»ç»Ÿ   â”‚  â”‚   æ–‡æ¡£ç³»ç»Ÿ   â”‚  â”‚  AI åŠŸèƒ½    â”‚ â”‚  ç”¨æˆ·ä¸­å¿ƒ  â”‚ â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Blog List â”‚  â”‚ â€¢ Docs Home  â”‚  â”‚ â€¢ Image Gen â”‚ â”‚ â€¢ Profile  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Blog Post â”‚  â”‚ â€¢ Nav Tree   â”‚  â”‚ â€¢ Text Anal â”‚ â”‚ â€¢ Credits  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Category  â”‚  â”‚ â€¢ Search     â”‚  â”‚ â€¢ ChatBot   â”‚ â”‚ â€¢ Payment  â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ â€¢ Paginationâ”‚  â”‚ â€¢ Table Cont â”‚  â”‚ â€¢ Web Scrap â”‚ â”‚ â€¢ Account  â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚                    Zustand (Client State) + Next-intl                â”‚  â”‚
â”‚  â”‚                  Radix UI + TailwindCSS (Component Lib)             â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â†‘â†“                                         â”‚
â”‚                           HTTP/REST APIs                                    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    BACKEND (Next.js 15 Server/API)                   â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚  â”‚  API Routes    â”‚  â”‚  Server Actions  â”‚  â”‚  Route Handlers      â”‚ â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚
â”‚  â”‚  â”‚ /api/chat      â”‚  â”‚ Blog Operations  â”‚  â”‚ GET /blog/[slug]    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ /api/generate- â”‚  â”‚ Newsletter Sub   â”‚  â”‚ GET /docs/[...slug] â”‚ â”‚  â”‚
â”‚  â”‚  â”‚   images       â”‚  â”‚ Payment Create   â”‚  â”‚ GET /payment/...    â”‚ â”‚  â”‚
â”‚  â”‚  â”‚ /api/upload    â”‚  â”‚ Credit Consume   â”‚  â”‚ POST /auth/...      â”‚ â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚           Core Business Logic Layer                           â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚
â”‚  â”‚  â”‚                                                                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Credits      â”‚  â”‚ Payment      â”‚  â”‚ Premium Access     â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Management   â”‚  â”‚ Integration  â”‚  â”‚ Control            â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                    â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Add/Remove â”‚  â”‚ â€¢ Stripe API â”‚  â”‚ â€¢ Check Premium    â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Consume    â”‚  â”‚ â€¢ Webhooks   â”‚  â”‚ â€¢ Guard Components â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Expire     â”‚  â”‚ â€¢ Sessions   â”‚  â”‚ â€¢ Routes           â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Track      â”‚  â”‚ â€¢ Checkout   â”‚  â”‚                    â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Content      â”‚  â”‚ Newsletter   â”‚  â”‚ Mail Service       â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ Management   â”‚  â”‚ Management   â”‚  â”‚                    â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚ â€¢ Email Templates  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Blog Fetch â”‚  â”‚ â€¢ Subscribe  â”‚  â”‚ â€¢ Resend Provider  â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Author Mgmtâ”‚  â”‚ â€¢ Unsub      â”‚  â”‚ â€¢ Send Emails      â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Category   â”‚  â”‚ â€¢ Status Check   â”‚ â€¢ Notifications    â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Related    â”‚  â”‚              â”‚  â”‚                    â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                                â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ AI Features  â”‚  â”‚ Storage      â”‚  â”‚ Auth System        â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚                    â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Image Gen  â”‚  â”‚ â€¢ S3 Client  â”‚  â”‚ â€¢ Better Auth      â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Chat       â”‚  â”‚ â€¢ Upload     â”‚  â”‚ â€¢ Sessions         â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Web Scrape â”‚  â”‚ â€¢ Manage     â”‚  â”‚ â€¢ Social Login     â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â”‚ â€¢ Text Anal  â”‚  â”‚              â”‚  â”‚ â€¢ Verification     â”‚ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚  â”‚
â”‚  â”‚  â”‚                                                                â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚              i18n (next-intl) + Authentication Middleware            â”‚  â”‚
â”‚  â”‚                      Safe Action + Zod Validation                    â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                  â†‘â†“                                         â”‚
â”‚                          External Services                                  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ PostgreSQLâ”‚  â”‚   Stripe     â”‚  â”‚ Resend   â”‚  â”‚  S3     â”‚ â”‚ Vercel   â”‚ â”‚
â”‚  â”‚ Database  â”‚  â”‚  Payments    â”‚  â”‚ Email    â”‚  â”‚ Storage â”‚ â”‚ Hosting  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Replicate API    â”‚ â”‚ OpenAI API   â”‚ â”‚ Fireworks â”‚ â”‚ FAL AI API       â”‚ â”‚
â”‚  â”‚ (Image Gen)      â”‚ â”‚ (DALL-E)     â”‚ â”‚ (Flux)    â”‚ â”‚ (Flux/Ideogram)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Firecrawl API    â”‚ â”‚ Perplexity   â”‚ â”‚ Google   â”‚ â”‚ OpenRouter API   â”‚ â”‚
â”‚  â”‚ (Web Scraping)   â”‚ â”‚ (Web Search) â”‚ â”‚ Gemini   â”‚ â”‚ (Multiple LLMs)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## å†…å®¹ç®¡ç†æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Content Management Pipeline                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ“ MDX æ–‡ä»¶ (content/blog/*.mdx)                                           â”‚
â”‚       â†“                                                                      â”‚
â”‚  ğŸ”„ Fumadocs Processing                                                    â”‚
â”‚       â†“                                                                      â”‚
â”‚  ğŸ“¦ .source/ (Generated Content Collections)                               â”‚
â”‚       â†“                                                                      â”‚
â”‚  src/lib/source.ts (Content Loaders)                                       â”‚
â”‚  â”œâ”€ blogSource          â†’ Blog Posts                                        â”‚
â”‚  â”œâ”€ authorSource        â†’ Authors                                           â”‚
â”‚  â”œâ”€ categorySource      â†’ Categories                                        â”‚
â”‚  â”œâ”€ changelogSource     â†’ Version History                                   â”‚
â”‚  â””â”€ pagesSource         â†’ Static Pages                                      â”‚
â”‚       â†“                                                                      â”‚
â”‚  ğŸŒ Internationalization (next-intl)                                        â”‚
â”‚  â”œâ”€ English (en)                                                            â”‚
â”‚  â””â”€ Chinese (zh)                                                            â”‚
â”‚       â†“                                                                      â”‚
â”‚  ğŸ¨ React Components                                                        â”‚
â”‚  â”œâ”€ BlogCard            â†’ Card Display                                      â”‚
â”‚  â”œâ”€ BlogGrid            â†’ Grid Layout                                       â”‚
â”‚  â”œâ”€ BlogPost            â†’ Detail Page                                       â”‚
â”‚  â””â”€ RelatedPosts        â†’ Recommendations                                   â”‚
â”‚       â†“                                                                      â”‚
â”‚  ğŸŒ Browser (Next.js Static/SSR/ISR)                                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## AI åŠŸèƒ½é›†æˆæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     AI Features Integration                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Image Generation Module                          â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  User Input (Prompt)                                               â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Model Selection & Mode (Performance/Quality)                      â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Provider Selection (Multi-select)                                 â”‚  â”‚
â”‚  â”‚  â”œâ”€ Replicate (13 models)                                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ OpenAI (2 models: DALL-E 2/3)                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Fireworks (7 models)                                           â”‚  â”‚
â”‚  â”‚  â””â”€ FAL AI (9 models)                                              â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Parallel API Calls (via useImageGeneration hook)                  â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  /api/generate-images (Vercel AI SDK)                              â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Response Processing (Base64 encoding)                             â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Result Display                                                     â”‚  â”‚
â”‚  â”‚  â”œâ”€ Desktop: 4-column grid                                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ Mobile: Carousel                                                â”‚  â”‚
â”‚  â”‚  â”œâ”€ Timing metrics                                                  â”‚  â”‚
â”‚  â”‚  â””â”€ Error handling                                                  â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  User Actions                                                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ Download                                                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ Share (Web Share API)                                           â”‚  â”‚
â”‚  â”‚  â””â”€ Compare                                                         â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 Text Analysis Module                                 â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  User Input (URL)                                                   â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Firecrawl API (Web Scraping)                                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ Markdown extraction                                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ Screenshot capture                                              â”‚  â”‚
â”‚  â”‚  â””â”€ Metadata extraction                                             â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  AI Analysis (Multiple Providers)                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ OpenAI                                                          â”‚  â”‚
â”‚  â”‚  â”œâ”€ Google Gemini                                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ DeepSeek                                                        â”‚  â”‚
â”‚  â”‚  â””â”€ OpenRouter                                                      â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Structured Output                                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ Title                                                           â”‚  â”‚
â”‚  â”‚  â”œâ”€ Description                                                     â”‚  â”‚
â”‚  â”‚  â”œâ”€ Features                                                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ Pricing                                                         â”‚  â”‚
â”‚  â”‚  â”œâ”€ Use Cases                                                       â”‚  â”‚
â”‚  â”‚  â””â”€ Screenshot                                                      â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                    Chat Module                                       â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â”‚  User Messages                                                      â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Optional Web Search (Perplexity Sonar)                             â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  /api/chat (Vercel AI SDK streamText)                               â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Multiple LLM Support                                               â”‚  â”‚
â”‚  â”‚  â”œâ”€ OpenAI GPT                                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ Google Gemini                                                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ Anthropic Claude                                                â”‚  â”‚
â”‚  â”‚  â””â”€ Other providers                                                 â”‚  â”‚
â”‚  â”‚       â†“                                                             â”‚  â”‚
â”‚  â”‚  Streaming Response                                                 â”‚  â”‚
â”‚  â”‚  â”œâ”€ AI message stream                                               â”‚  â”‚
â”‚  â”‚  â”œâ”€ Sources (if web search)                                         â”‚  â”‚
â”‚  â”‚  â””â”€ Reasoning (if available)                                        â”‚  â”‚
â”‚  â”‚                                                                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ”¯ä»˜å’Œå­¦åˆ†æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Payment & Credit System Flow                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Payment Flow                                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  User Selection                                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ Free Plan (Monthly credits)                                     â”‚  â”‚
â”‚  â”‚  â”œâ”€ Pro Plan (Monthly/Yearly subscription)                          â”‚  â”‚
â”‚  â”‚  â””â”€ Lifetime Plan (One-time payment)                                â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Create Stripe Checkout Session                                     â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Store Payment Record (Database)                                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ priceId, userId, customerId                                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ status: 'pending'                                               â”‚  â”‚
â”‚  â”‚  â””â”€ paid: false                                                     â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  User Redirects to Stripe                                           â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  User Completes Payment                                             â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Stripe Webhook (Async)                                             â”‚  â”‚
â”‚  â”‚  â”œâ”€ Verify payment                                                  â”‚  â”‚
â”‚  â”‚  â””â”€ Update payment record (paid: true)                              â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Credit Allocation                                                  â”‚  â”‚
â”‚  â”‚  â”œâ”€ addSubscriptionCredits()                                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ addLifetimeMonthlyCredits()                                     â”‚  â”‚
â”‚  â”‚  â””â”€ Save transaction record                                         â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  User Permissions Updated                                           â”‚  â”‚
â”‚  â”‚  â”œâ”€ Access to premium features                                      â”‚  â”‚
â”‚  â”‚  â””â”€ Credit balance updated                                          â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Credit System                                    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â”‚  Credit Sources                                                      â”‚  â”‚
â”‚  â”‚  â”œâ”€ Register Gift (ä¸€æ¬¡æ€§)                                           â”‚  â”‚
â”‚  â”‚  â”œâ”€ Monthly Refresh (Free plan æœˆåº¦)                                â”‚  â”‚
â”‚  â”‚  â”œâ”€ Subscription Renewal (Pro plan æœˆåº¦)                            â”‚  â”‚
â”‚  â”‚  â”œâ”€ Lifetime Monthly (Lifetime plan æœˆåº¦)                           â”‚  â”‚
â”‚  â”‚  â””â”€ Credit Purchase (æŒ‰éœ€è´­ä¹°)                                      â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Credit Store (user_credit table)                                   â”‚  â”‚
â”‚  â”‚  â””â”€ currentCredits: integer                                         â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Credit Usage Tracking (credit_transaction table)                   â”‚  â”‚
â”‚  â”‚  â”œâ”€ Type: REGISTER_GIFT, MONTHLY_REFRESH, USAGE, EXPIRE             â”‚  â”‚
â”‚  â”‚  â”œâ”€ Amount: positive (earn) or negative (consume)                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ RemainingAmount: for FIFO consumption                           â”‚  â”‚
â”‚  â”‚  â””â”€ ExpirationDate: optional expiry                                 â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Credit Consumption (FIFO Strategy)                                 â”‚  â”‚
â”‚  â”‚  â”œâ”€ Check balance sufficiency                                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ Sort by expiration date (earliest first)                        â”‚  â”‚
â”‚  â”‚  â”œâ”€ Deduct from earliest expiring credits                           â”‚  â”‚
â”‚  â”‚  â””â”€ Record usage transaction                                        â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Feature Usage                                                       â”‚  â”‚
â”‚  â”‚  â”œâ”€ Image generation (per image)                                    â”‚  â”‚
â”‚  â”‚  â”œâ”€ Text analysis (per analysis)                                    â”‚  â”‚
â”‚  â”‚  â””â”€ Other premium features                                          â”‚  â”‚
â”‚  â”‚       â†“                                                              â”‚  â”‚
â”‚  â”‚  Credit Expiration (Monthly Refresh)                                â”‚  â”‚
â”‚  â”‚  â”œâ”€ Check expired credits                                           â”‚  â”‚
â”‚  â”‚  â”œâ”€ Mark as expired                                                 â”‚  â”‚
â”‚  â”‚  â””â”€ Update balance                                                  â”‚  â”‚
â”‚  â”‚                                                                       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ•°æ®åº“ ER å›¾ï¼ˆæ ¸å¿ƒè¡¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Database Schema                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                       â”‚
â”‚  â”‚      user        â”‚                                                       â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                                       â”‚
â”‚  â”‚ id (PK)          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                           â”‚
â”‚  â”‚ name             â”‚           â”‚                                           â”‚
â”‚  â”‚ email (UNIQUE)   â”‚           â”‚                                           â”‚
â”‚  â”‚ image            â”‚           â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚  â”‚ role             â”‚           â”œâ”€â”€â”¤ user_credit         â”‚                 â”‚
â”‚  â”‚ banned           â”‚           â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â”‚  â”‚ customerId       â”‚           â”‚  â”‚ id (PK)             â”‚                 â”‚
â”‚  â”‚ createdAt        â”‚           â”‚  â”‚ userId (FK) â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â”‚  â”‚ updatedAt        â”‚           â”‚  â”‚ currentCredits      â”‚                 â”‚
â”‚  â”‚                  â”‚           â”‚  â”‚ createdAt           â”‚                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚  â”‚ updatedAt           â”‚                 â”‚
â”‚         â–²                        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚         â”‚                        â”‚                                           â”‚
â”‚         â”‚                        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚         â”‚                        â””â”€â”€â”¤ payment             â”‚                 â”‚
â”‚         â”‚                           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â”‚         â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ id (PK)             â”‚                 â”‚
â”‚         â””â”€â”€â”¤ session              â”‚ â”‚ userId (FK) â”€â”€â”€â”€â”€â”€â”€â”€â”¤                 â”‚
â”‚            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ customerId          â”‚                 â”‚
â”‚            â”‚ id (PK)              â”‚ â”‚ priceId             â”‚                 â”‚
â”‚            â”‚ userId (FK)          â”‚ â”‚ subscriptionId      â”‚                 â”‚
â”‚            â”‚ token (UNIQUE)       â”‚ â”‚ status              â”‚                 â”‚
â”‚            â”‚ expiresAt            â”‚ â”‚ paid                â”‚                 â”‚
â”‚            â”‚ ipAddress            â”‚ â”‚ periodStart         â”‚                 â”‚
â”‚            â”‚ userAgent            â”‚ â”‚ periodEnd           â”‚                 â”‚
â”‚            â”‚ createdAt            â”‚ â”‚ createdAt           â”‚                 â”‚
â”‚            â”‚ updatedAt            â”‚ â”‚ updatedAt           â”‚                 â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚                                                 â”‚                            â”‚
â”‚                                                 â”‚                            â”‚
â”‚                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚                                    â”‚ credit_transaction    â”‚                â”‚
â”‚                                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚                                    â”‚ id (PK)               â”‚                â”‚
â”‚                                    â”‚ userId (FK)           â”‚                â”‚
â”‚                                    â”‚ type                  â”‚                â”‚
â”‚                                    â”‚ amount                â”‚                â”‚
â”‚                                    â”‚ remainingAmount       â”‚                â”‚
â”‚                                    â”‚ description           â”‚                â”‚
â”‚                                    â”‚ paymentId (FK)        â”‚                â”‚
â”‚                                    â”‚ expirationDate        â”‚                â”‚
â”‚                                    â”‚ createdAt             â”‚                â”‚
â”‚                                    â”‚ updatedAt             â”‚                â”‚
â”‚                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                             â”‚
â”‚  â”‚   account        â”‚     â”‚   verification   â”‚                             â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                             â”‚
â”‚  â”‚ id (PK)          â”‚     â”‚ id (PK)          â”‚                             â”‚
â”‚  â”‚ userId (FK)      â”‚     â”‚ identifier       â”‚                             â”‚
â”‚  â”‚ providerId       â”‚     â”‚ value            â”‚                             â”‚
â”‚  â”‚ accountId        â”‚     â”‚ expiresAt        â”‚                             â”‚
â”‚  â”‚ accessToken      â”‚     â”‚ createdAt        â”‚                             â”‚
â”‚  â”‚ refreshToken     â”‚     â”‚ updatedAt        â”‚                             â”‚
â”‚  â”‚ password         â”‚     â”‚                  â”‚                             â”‚
â”‚  â”‚ createdAt        â”‚     â”‚                  â”‚                             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                             â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## è·¯ç”±ç»“æ„æ ‘

```
src/app/[locale]/
â”œâ”€â”€ (auth)/
â”‚   â”œâ”€â”€ sign-in
â”‚   â”œâ”€â”€ sign-up
â”‚   â””â”€â”€ forgot-password
â”‚
â”œâ”€â”€ (marketing)/
â”‚   â”œâ”€â”€ page.tsx                          (é¦–é¡µ)
â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”œâ”€â”€ (blog)/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                  (åšå®¢åˆ—è¡¨)
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ page/[page]/page.tsx      (åˆ†é¡µ)
â”‚   â”‚   â”‚   â”œâ”€â”€ category/[slug]/page.tsx  (åˆ†ç±»)
â”‚   â”‚   â”‚   â””â”€â”€ category/[slug]/page/[page]/page.tsx
â”‚   â”‚   â””â”€â”€ [...slug]/page.tsx            (åšå®¢è¯¦æƒ…)
â”‚   â”‚
â”‚   â”œâ”€â”€ ai/
â”‚   â”‚   â”œâ”€â”€ image/page.tsx                (å›¾åƒç”Ÿæˆ)
â”‚   â”‚   â”œâ”€â”€ text/page.tsx                 (æ–‡æœ¬åˆ†æ)
â”‚   â”‚   â””â”€â”€ chat/page.tsx                 (èŠå¤©)
â”‚   â”‚
â”‚   â””â”€â”€ pricing
â”‚       â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ page.tsx                          (æ–‡æ¡£é¦–é¡µ)
â”‚   â”œâ”€â”€ layout.tsx                        (æ–‡æ¡£å¸ƒå±€ + å¯¼èˆª)
â”‚   â””â”€â”€ [...slug]/page.tsx                (æ–‡æ¡£é¡µé¢)
â”‚
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ auth/[...nextauth]/route.ts       (Better Auth)
â”‚   â”œâ”€â”€ chat/route.ts                     (Chat API)
â”‚   â”œâ”€â”€ generate-images/route.ts          (Image Gen API)
â”‚   â”œâ”€â”€ upload/route.ts                   (File Upload)
â”‚   â”œâ”€â”€ payment/
â”‚   â”‚   â”œâ”€â”€ create-checkout/route.ts
â”‚   â”‚   â”œâ”€â”€ create-portal/route.ts
â”‚   â”‚   â””â”€â”€ webhook/route.ts              (Stripe Webhooks)
â”‚   â”œâ”€â”€ webhook/
â”‚   â”‚   â””â”€â”€ stripe/route.ts
â”‚   â””â”€â”€ [å…¶ä»– API è·¯ç”±]
â”‚
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ profile/page.tsx
â”‚   â”œâ”€â”€ credits/page.tsx
â”‚   â””â”€â”€ subscription/page.tsx
â”‚
â”œâ”€â”€ sitemap.ts                            (SEO)
â”œâ”€â”€ robots.ts                             (SEO)
â””â”€â”€ manifest.ts                           (PWA)
```

## å›½é™…åŒ–æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Internationalization (i18n) Flow                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  URL Request                                                                â”‚
â”‚  â”œâ”€ /docs                           â†’ English (default)                    â”‚
â”‚  â”œâ”€ /blog                           â†’ English (default)                    â”‚
â”‚  â”œâ”€ /zh/docs                        â†’ Chinese                              â”‚
â”‚  â””â”€ /zh/blog                        â†’ Chinese                              â”‚
â”‚       â†“                                                                      â”‚
â”‚  next-intl Middleware                                                       â”‚
â”‚  â”œâ”€ Detect locale from URL path                                            â”‚
â”‚  â”œâ”€ Load corresponding language messages                                    â”‚
â”‚  â””â”€ Set locale context for page                                            â”‚
â”‚       â†“                                                                      â”‚
â”‚  Content Resolution                                                         â”‚
â”‚  â”œâ”€ Fumadocs i18n config                                                   â”‚
â”‚  â”‚  â”œâ”€ defaultLanguage: 'en'                                               â”‚
â”‚  â”‚  â”œâ”€ languages: ['en', 'zh']                                             â”‚
â”‚  â”‚  â””â”€ hideLocale: 'default-locale'                                        â”‚
â”‚  â”‚       â†“                                                                  â”‚
â”‚  â”‚  File naming convention                                                  â”‚
â”‚  â”‚  â”œâ”€ file.mdx         â†’ English version                                  â”‚
â”‚  â”‚  â”œâ”€ file.zh.mdx      â†’ Chinese version                                  â”‚
â”‚  â”‚  â””â”€ index.zh.mdx     â†’ Chinese index                                    â”‚
â”‚  â”‚                                                                           â”‚
â”‚  â””â”€ Blogource loader                                                       â”‚
â”‚     â”œâ”€ blogSource.getPages(locale)  â†’ Get posts for locale                â”‚
â”‚     â””â”€ authorSource/categorySource   â†’ Same pattern                        â”‚
â”‚       â†“                                                                      â”‚
â”‚  Page Rendering                                                             â”‚
â”‚  â”œâ”€ getTranslations()  (server-side)                                       â”‚
â”‚  â”œâ”€ useTranslations()  (client-side)                                       â”‚
â”‚  â”œâ”€ Translation keys from messages/en.json, messages/zh.json               â”‚
â”‚  â””â”€ LocaleLink component (language-aware links)                            â”‚
â”‚       â†“                                                                      â”‚
â”‚  SEO Optimization                                                           â”‚
â”‚  â”œâ”€ Canonical URLs                                                          â”‚
â”‚  â”œâ”€ hreflang alternates                                                     â”‚
â”‚  â”œâ”€ Language meta tags                                                      â”‚
â”‚  â””â”€ Sitemap with locale variants                                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

